!function(t,e){"use strict";var o={init:function(){var i=o,a={"jet-woo-product-gallery-grid.default":i.productGalleryGrid,"jet-woo-product-gallery-modern.default":i.productGalleryModern,"jet-woo-product-gallery-anchor-nav.default":i.productGalleryAnchorNav,"jet-woo-product-gallery-slider.default":i.productGallerySlider};t.each(a,function(t,o){e.hooks.addAction("frontend/element_ready/"+t,o)}),t(".woocommerce div.product").hasClass("product-type-variable")&&t(document).on("show_variation",function(t,e){i.showVariationImage(e)}).on("reset_image",function(t,e){i.showVariationImage(e)})},showVariationImage:function(e){var o=t(document).find(".product").find(".jet-woo-product-gallery");t.each(o,function(){var o=t(this).data("variation-images"),i=t(this).find(".jet-woo-product-gallery-slider").data("swiper-settings"),a=null,r=null,n=t(this).children().data("featured-image"),l=t(this).data("gallery-settings").videoFirst?1:0;i&&i.loop?(a=t(this).find('.jet-woo-product-gallery__image-item[data-swiper-slide-index = "'+l+'"]'),r=t(this).find('.jet-woo-swiper-control-thumbs__item[data-swiper-slide-index = "'+l+'"] img')):(a=t(this).find(".jet-woo-product-gallery__image-item").eq(l),r=t(this).find(".jet-woo-swiper-control-thumbs__item:eq( index ) img"));var s=a.find(".wp-post-image"),c=a.find("a").eq(0);if(n||(s=a.find(".wp-post-gallery")),e&&e.image&&e.image.src&&e.image.src.length>1){var d=o[e.image_id];!function(t,e){s.wc_set_variation_attr("src",e.src),s.wc_set_variation_attr("height",e.src_h),s.wc_set_variation_attr("width",e.src_w),s.wc_set_variation_attr("srcset",e.srcset),s.wc_set_variation_attr("sizes",e.sizes),s.wc_set_variation_attr("title",t.image.title),s.wc_set_variation_attr("data-caption",t.image.caption),s.wc_set_variation_attr("alt",t.image.alt),s.wc_set_variation_attr("data-src",e.src),s.wc_set_variation_attr("data-large_image",e.full_src),s.wc_set_variation_attr("data-large_image_width",e.full_src_w),s.wc_set_variation_attr("data-large_image_height",e.full_src_h),a.wc_set_variation_attr("data-thumb",e.src),c.wc_set_variation_attr("href",t.image.full_src),r.wc_set_variation_attr("src",t.image.thumb_src),r.wc_set_variation_attr("width",t.image.thumb_src_w),r.wc_set_variation_attr("height",t.image.thumb_src_h),r.wc_set_variation_attr("srcset","")}(e,d)}else s.wc_reset_variation_attr("src"),s.wc_reset_variation_attr("width"),s.wc_reset_variation_attr("height"),s.wc_reset_variation_attr("srcset"),s.wc_reset_variation_attr("sizes"),s.wc_reset_variation_attr("title"),s.wc_reset_variation_attr("data-caption"),s.wc_reset_variation_attr("alt"),s.wc_reset_variation_attr("data-src"),s.wc_reset_variation_attr("data-large_image"),s.wc_reset_variation_attr("data-large_image_width"),s.wc_reset_variation_attr("data-large_image_height"),a.wc_reset_variation_attr("data-thumb"),c.wc_reset_variation_attr("href"),r.wc_reset_variation_attr("src"),r.wc_reset_variation_attr("width"),r.wc_reset_variation_attr("height")}),t(document).trigger("jet-woo-gallery-variation-image-change")},productGallerySlider:function(i){let a=i.find(".jet-woo-product-gallery-slider"),r=a.data("swiper-settings"),n=a.data("swiper-thumb-settings"),l=a.find(".jet-woo-product-gallery__image-item").length,s=a.find(".jet-woo-product-gallery__image-item.featured").length,c=r.paginationType,d=i.find(".jet-woo-swiper-gallery-thumbs");if(l>s){let l={slidesPerView:1,touchReleaseOnEdges:!0,autoHeight:"vertical"===r.direction||r.autoHeight,navigation:{nextEl:".jet-swiper-button-next",prevEl:".jet-swiper-button-prev"},on:{init:()=>{o.productGallery(i)}}};var u,p,_=!1;if(r.showPagination)if("thumbnails"===c){var w={slidesPerView:1,loop:r.loop,direction:r.direction,freeMode:r.loop,autoHeight:"vertical"!==r.direction&&r.autoHeight,watchSlidesVisibility:!0,watchSlidesProgress:!0,navigation:{nextEl:".jet-swiper-button-next",prevEl:".jet-swiper-button-prev"}};if("undefined"==typeof Swiper){const o=e.utils.swiper;_=!0,new o(d,t.extend({},w,n)).then(t=>{l.thumbs={swiper:t}}).then(()=>{new o(a,t.extend({},l,r)).then(t=>{p=t})})}else u=new Swiper(d,t.extend({},w,n)),l.thumbs={swiper:u};var g=d.find(".jet-woo-swiper-control-thumbs__item").length;(t(window).width()<768?g>n.breakpoints[0].slidesPerView:t(window).width()<1025?g>n.breakpoints[768].slidesPerView:g>n.breakpoints[1025].slidesPerView)||d.find(".jet-swiper-nav").hide()}else l.pagination={el:".swiper-pagination",clickable:!0};if("undefined"==typeof Swiper){const o=e.utils.swiper;_||new o(a,t.extend({},l,r)).then(t=>{p=t})}else p=new Swiper(a,t.extend({},l,r));p.on("click",function(e){let o=t(e.target).parents().hasClass("jet-woo-product-gallery--with-video"),a="self_hosted"===i.find(".jet-woo-product-gallery").data("gallery-settings").videoType;o&&a&&setTimeout(function(){p.updateAutoHeight(300)},100)});var f=!1;t(document).on("jet-woo-gallery-variation-image-change",()=>{p.updateAutoHeight(300);var t=i.find(".jet-woo-product-gallery").data("gallery-settings").videoFirst,e=0;if(!p)return!1;f&&t&&(e=1),r.loop?p.slideToLoop(e,300,!0):p.slideTo(e,300,!0),f=!0}),r.loop&&a.find(".swiper-slide-duplicate video.jet-woo-product-video-player ").removeAttr("autoplay")}else o.productGallery(i),i.find(".jet-swiper-nav").hide()},productGalleryGrid:function(t){o.productGallery(t)},productGalleryModern:function(t){o.productGallery(t)},productGalleryAnchorNav:function(e){var i,a,r,n=e.find(".jet-woo-product-gallery__image-item"),l=e.find(".jet-woo-product-gallery-anchor-nav-items"),s=e.find(".jet-woo-product-gallery-anchor-nav-controller"),c=s.find("li a"),d=[],u=!1,p=0,_=0,w=t("#wpadminbar");function g(){t(n).each(function(){var e=t(this).attr("id");d[e]=t(this).offset().top})}function f(){for(var e in d)_>=d[e]-p&&(t(s).find("a.current-item").removeClass("current-item"),t(s).find('a[data-index="'+e+'"]').addClass("current-item"))}w.length&&(p=w.outerHeight()),o.productGallery(e),g(),i=!1,a=!1,r=!1,t(window).on("scroll",function(){var e=t(window).scrollTop(),o=t(l).outerHeight(!0),n=t(s).outerHeight(!0),c=t(l).offset().top,d=t(s).offset().top,u=c+o,_=d+n;u-n-p<=e||(!0===a&&!1===r&&t(s).css({top:e-c+p+"px"}),e<d&&e<_&&(i=!1,a=!0,t(s).css({top:e-c+p+"px"})),!1===i&&e>c&&(i=!0,a=!0,r=!1),!1===i&&c>e&&(i=!1,a=!1,r=!1,t(s).removeAttr("style")))}),t(window).scroll(function(){u||(g(),_=t(document).scrollTop(),f())}),_=t(document).scrollTop(),f(),t(c).on("click",function(){f();var e=t(this).data("index"),o=d[e];if(u=!0,t(s).find("a.current-item").removeClass("current-item"),t(this).addClass("current-item"),e,t(this).parents().hasClass("quick-view-product")){let e=t(this).closest(".jet-popup__container-inner");t(e).animate({scrollTop:o-t(e).offset().top+1},"fast",function(){u=!1})}else t("html, body").animate({scrollTop:o-p+1},"fast",function(){u=!1});return!1})},productGallery:function(e){var o=e.data("id"),i=e.find(".jet-woo-product-gallery").data("gallery-settings"),a=(e.find(".jet-woo-product-gallery-slider").data("swiper-settings"),e.find(".jet-woo-product-gallery__image-item:not(.swiper-slide-duplicate) .jet-woo-product-gallery__image:not(.image-with-placeholder)")),r=e.find(".jet-woo-product-gallery__image--with-zoom"),n=b(),l=e.find(".jet-woo-product-gallery__trigger"),s={mainClass:"jet-woo-product-gallery-"+o,captionEl:i.caption?i.caption:"",fullscreenEl:!!i.fullscreen&&i.fullscreen,zoomEl:!!i.zoom&&i.zoom,shareEl:!!i.share&&i.share,counterEl:!!i.counter&&i.counter,arrowEl:!!i.arrows&&i.arrows,closeOnScroll:!1},c=t(".jet-woo-product-gallery-pswp")[0],d=e.find(".jet-woo-product-video__popup-button"),u=e.find(".jet-woo-product-video__popup-overlay"),p=e.find(".jet-woo-product-video-iframe"),_=!!p[0]&&p[0].src,w=e.find(".jet-woo-product-video-player")[0],g=e.find(".jet-woo-product-video-mejs-player"),f=g.data("controls")||["playpause","current","progress","duration","volume","fullscreen"],h=e.find(".jet-woo-product-video__overlay"),m=h.length>0,v=i.videoAutoplay,y=i.videoFirst;function j(){var e=!1,o={magnify:i.zoomMagnify,touch:!1};r.each(function(o,i){var a=t(i).find("img"),r=a.parent().width();a.data("large_image_width")>r&&(e=!0)}),e&&("ontouchstart"in document.documentElement&&(o.on="click"),r.trigger("zoom.destroy"),r.zoom(o))}function b(){var e=[];return a.length>0&&a.each(function(o,i){var a=t(i).find("img");if(a.length){var r={src:a.attr("data-large_image"),w:a.attr("data-large_image_width"),h:a.attr("data-large_image_height"),title:a.attr("data-caption")?a.attr("data-caption"):a.attr("title")};e.push(r)}}),e}i.enableGallery&&(l.on("click.JetWooProductGallery",function(o){if(o.preventDefault(),t("body").hasClass("elementor-editor-active"))return;var i,a=t(o.target),r=e.find(".jet-woo-product-gallery__image-item.featured").hasClass("no-image"),l=a.parents(".jet-woo-product-gallery__image-item"),d=l.data("swiper-slide-index");i=d||t(l).index();(r||y)&&(i-=1);s.index=i,new PhotoSwipe(c,PhotoSwipeUI_Default,n,s).init()}),t(document).on("jet-woo-gallery-variation-image-change",function(){n=b()})),i.enableZoom&&(j(),t(document).on("jet-woo-gallery-variation-image-change",j)),i.hasVideo&&function(){switch(i.videoIn){case"content":h[0]&&(h.on("click.JetWooProductGallery",function(e){var i;w&&(i=e.target,t(i).parents(".jet-woo-product-video__overlay").siblings().find(".jet-woo-product-video-player")[1].play(),h.remove(),m=!1),p[0]&&o(e)}),v&&p[0]&&o(event)),w&&t(w).on("play.JetWooProductGallery",function(t){m&&(h.remove(),m=!1)}),g[0]&&e();break;case"popup":e(),d.on("click.JetWooProductGallery",function(t){!function(){d.siblings(".jet-woo-product-video__popup-content").addClass("jet-woo-product-video__popup--show"),w&&(w.play(),v||(w.pause(),w.currentTime=0));p[0]&&(p[0].src=_,v&&(p[0].src=p[0].src.replace("&autoplay=0","&autoplay=1")))}()}),u.on("click.JetWooProductGallery",function(t){!function(){d.siblings(".jet-woo-product-video__popup-content").removeClass("jet-woo-product-video__popup--show"),p[0]&&(p[0].src="");w&&(w.currentTime=0,w.pause())}()})}function e(){g.mediaelementplayer({videoVolume:"horizontal",hideVolumeOnTouchDevices:!1,enableProgressTooltip:!1,features:f,autoplay:!1}).load()}function o(e){if(v)p.each(function(){t(this).parents(".jet-woo-product-gallery__image-item").hasClass("swiper-slide-duplicate")&&(t(this)[0].src=t(this)[0].src.replace("&autoplay=1","&autoplay=0"))});else{var o=t(e.target).parents(".jet-woo-product-video__overlay").siblings().find(".jet-woo-product-video-iframe");o[0].src=o[0].src.replace("&autoplay=0","&autoplay=1")}h.remove(),m=!1}}(),t(".jet-woo-product-gallery__image-item").find("img").on("click",function(t){t.preventDefault()})}};t(window).on("elementor/frontend/init",o.init)}(jQuery,window.elementorFrontend);